# Rules

- Do not use `pip` or `poetry` (this project uses `uv`).

- Do not edit `config.schema.json` (it is generated from Pydantic models).
  If you changed the schema in `config.py`, run `mise generate-schema` to regenerate it.

- After making changes, run `mise pyright`. If it passes, also run `mise check:ai`.

## Useful info

- You can run `mise ok --help` to see all CLI options.
  Every config option has a corresponding CLI option.

- The `ai/` folder contains your learnings and notes.
  You are encouraged to add to it, and update the existing files there as you go.

## Fixing errors

- `must be called from async context` actually means **trio** context.
  `trio.run()` is the entry point for async code and might be missing.

- Do not use `@pytest.mark.asyncio` decorator, it will fail with
  "An asyncio.Future, a coroutine, or an awaitable is required".

- "The mock LLM doesn't know how to respond to this prompt" means that
  you need to add a case for the prompt in the `llm_run_side_effect` function.